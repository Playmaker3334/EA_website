---
import MainLayout from './MainLayout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

const { frontmatter } = Astro.props;
---

<MainLayout title={`${frontmatter.title} | Altruismo Eficaz UPY`}>
  <Navigation />
  
  <main class="blog-post-container">
    <div class="container">
      <div class="post-header">
        <div class="profile">
          <img src="/Foto_EA_UPY.jpg" alt="EA UPY" class="avatar" />
          <div class="user-info">
            <h3>EA UPY <span class="badge">âœ¨</span></h3>
            <span class="date">{frontmatter.date}</span>
          </div>
        </div>
        
        <div class="mood">
          <span class="mood-emoji">{frontmatter.emoji}</span>
          <span class="mood-text">{frontmatter.mood}</span>
        </div>
      </div>
      
      <h1 class="post-title">{frontmatter.title}</h1>
      
      <div class="post-content">
        <slot />
      </div>
      
      <div class="post-actions">
        <button class="action-btn" aria-label="Compartir">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18 8L6 16M18 16L6 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="6" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
            <circle cx="18" cy="6" r="3" stroke="currentColor" stroke-width="2"/>
            <circle cx="18" cy="18" r="3" stroke="currentColor" stroke-width="2"/>
          </svg>
        </button>
        <button class="action-btn" aria-label="Me gusta">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z" fill="none" stroke="currentColor" stroke-width="2"/>
          </svg>
        </button>
        <button class="action-btn" aria-label="Copiar enlace">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 13.5C10.5 14 11 14.5 11.5 14.5C12 14.5 13 14.5 13.5 14C14 13.5 14 13 14 12.5C14 12 14 11.5 13.5 11C13 10.5 12 10.5 11.5 10.5C11 10.5 10.5 10 10 9.5C9.5 9 9.5 8.5 9.5 8C9.5 7.5 10 6.5 10.5 6.5C11 6.5 11.5 6.5 12 7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M15 6.5L14 5.5C12.8954 4.39543 11 5.19696 11 6.82843V7.5V8.17157C11 8.70201 10.7893 9.21071 10.4142 9.58579C10.0391 9.96086 9.53033 10.1716 9 10.1716H8.5C7.94772 10.1716 7.5 10.6193 7.5 11.1716V12.8284C7.5 13.3807 7.94772 13.8284 8.5 13.8284H9C9.53033 13.8284 10.0391 14.0391 10.4142 14.4142C10.7893 14.7893 11 15.298 11 15.8284V16.5V17.1716C11 18.803 12.8954 19.6046 14 18.5L15 17.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      
      <div class="post-navigation">
        <a href="/blog" class="back-button">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Volver al blog
        </a>
      </div>
    </div>
  </main>

  <Footer />
</MainLayout>

<style>
  .blog-post-container {
    padding: 2rem 0 4rem;
    min-height: 100vh;
  }
  
  .container {
    width: 90%;
    max-width: 700px;
    margin: 0 auto;
    padding-top: 2rem;
  }
  
  .post-header {
    display: flex;
    flex-direction: column;
    margin-bottom: 2rem;
    background-color: #1e1e1e;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 1.8rem;
    max-width: 650px;
    margin-left: auto;
    margin-right: 3rem;
  }
  
  .profile {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    margin-bottom: 0.5rem;
  }
  
  .avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    object-fit: cover;
  }
  
  .user-info h3 {
    font-size: 1rem;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.4rem;
  }
  
  .badge {
    color: var(--color-accent);
  }
  
  .date {
    font-size: 0.85rem;
    color: var(--color-text-secondary);
    margin-left: 0.4rem;
  }
  
  .mood {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background-color: rgba(139, 107, 255, 0.1);
    padding: 0.4rem 0.7rem;
    border-radius: 20px;
    align-self: flex-start;
    margin-left: 44px; /* Alineado con el texto del nombre */
  }
  
  .post-title {
    font-size: 2.2rem;
    margin-bottom: 1.5rem;
    line-height: 1.2;
    padding: 0 1.8rem;
    margin-top: 1.5rem;
  }
  
  .post-content {
    margin-bottom: 3rem;
    font-size: 1rem;
    line-height: 1.7;
    background-color: #1e1e1e;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 1.8rem;
    max-width: 650px;
    margin-left: auto;
    margin-right: 3rem;
  }
  
  .post-content p {
    margin-bottom: 1.5rem;
    color: #e0e0e0;
  }
  
  .post-content img {
    max-width: 100%;
    border-radius: 12px;
    margin: 2rem 0;
  }
  
  .post-actions {
    display: flex;
    gap: 1rem;
    margin: 2rem 0;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .action-btn {
    background: transparent;
    border: none;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: color 0.3s ease;
    padding: 0.5rem;
    border-radius: 50%;
  }
  
  .action-btn:hover {
    color: var(--color-accent);
    background-color: rgba(139, 107, 255, 0.1);
  }
  
  .post-navigation {
    margin-top: 3rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .back-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--color-text-secondary);
    transition: color 0.3s ease;
    font-size: 1rem;
  }
  
  .back-button:hover {
    color: var(--color-accent);
    text-decoration: none;
  }
  
  @media (max-width: 768px) {
    .blog-post-container {
      padding: 1.5rem 0 3rem;
    }
    
    .container {
      width: 94%;
    }
    
    .post-title {
      font-size: 2rem;
    }
    
    .post-content {
      font-size: 1rem;
    }
    
    .avatar {
      width: 42px;
      height: 42px;
    }
  }
  
  @media (max-width: 480px) {
    .container {
      width: 96%;
    }
    
    .post-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.8rem;
    }
    
    .mood {
      align-self: flex-start;
    }
    
    .post-title {
      font-size: 1.8rem;
      margin-top: 1rem;
    }
    
    .post-content {
      font-size: 1rem;
    }
  }
</style>